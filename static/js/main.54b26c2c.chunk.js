(this["webpackJsonphacker-news-react"]=this["webpackJsonphacker-news-react"]||[]).push([[0],{38:function(e,t,c){},39:function(e,t,c){},65:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(29),s=c.n(r),i=(c(38),c(39),c(17)),l=c.n(i),j=c(9),o=c(30),h=c(14),b=c(18),u=c.n(b),d=c(66),O=c(1),x=function(e){var t=e.storyArr;return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("ul",{children:t.map((function(e){return e.url?Object(O.jsxs)("li",{children:[Object(O.jsxs)("div",{className:"title-div",children:[Object(O.jsx)("a",{href:e.url,target:"_blank",rel:"noreferrer noopener",children:e.title}),Object(O.jsxs)("span",{className:"author",children:[" by ",e.author]})]}),Object(O.jsx)("div",{className:"linkinfo-div",children:Object(O.jsxs)("span",{children:["Posted: ",e.created_at.slice(0,10)]})})]},Object(d.a)()):null}))})})},v=c(2),f=function(){var e="https://hn.algolia.com/api/v1/search_by_date?tags=story",t=Object(v.g)().query,c=Object(n.useState)((function(){return t||""})),a=Object(h.a)(c,2),r=a[0],s=a[1],i=Object(n.useState)([]),b=Object(h.a)(i,2),d=b[0],f=b[1],p=Object(n.useState)([]),m=Object(h.a)(p,2),g=m[0],w=m[1],k=Object(n.useRef)(null);function y(e){return N.apply(this,arguments)}function N(){return(N=Object(o.a)(l.a.mark((function t(c){var n,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!c){t.next=13;break}return t.prev=1,t.next=4,u.a.get("https://hn.algolia.com/api/v1/search?query=".concat(c,"&tags=story"));case 4:n=t.sent,w(n.data.hits),t.next=11;break;case 8:throw t.prev=8,t.t0=t.catch(1),new Error("API call did not work");case 11:t.next=23;break;case 13:return t.prev=13,t.next=16,u.a.get(e);case 16:a=t.sent,w(a.data.hits),t.next=23;break;case 20:throw t.prev=20,t.t1=t.catch(13),new Error("API call did not work");case 23:case"end":return t.stop()}}),t,null,[[1,8],[13,20]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=d[d.length-1];if(r&&r!==e)return clearTimeout(k.current),k.current=setTimeout((function(){y(r),f((function(e){return Object(j.a)(new Set([r].concat(Object(j.a)(e))))}))}),400),function(){clearTimeout(k)};y()}),[r,d]),Object(n.useEffect)((function(){var e=window.localStorage.getItem("searches");if(e){var t=e.split(",");localStorage.setItem("searches",Object(j.a)(new Set([].concat(Object(j.a)(d),Object(j.a)(t)))))}else localStorage.setItem("searches",Object(j.a)(new Set(Object(j.a)(d))))}),[d]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"search-container",children:Object(O.jsx)("input",{className:"search-input",placeholder:" Looking for?",value:r,onChange:function(e){return s(e.target.value)}})}),Object(O.jsx)("div",{className:"stories-container",children:Object(O.jsx)(x,{storyArr:g})})]})},p=c(8),m=function(){var e=window.localStorage.getItem("searches"),t=e?e.split(","):null;return t?Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:"searchhistory-container",children:Object(O.jsx)("ul",{children:t.map((function(e){return Object(O.jsx)("li",{children:Object(O.jsx)("div",{className:"pastsearch-div",children:Object(O.jsx)(p.b,{to:"search/".concat(e),activeClassName:"active",children:e})})},Object(d.a)())}))})})}):Object(O.jsx)("div",{children:Object(O.jsx)("div",{className:"nohistorytext-container",children:"No History"})})},g=function(){var e=Object(v.f)().pathname;return Object(O.jsxs)("nav",{className:"nav",children:[Object(O.jsx)("div",{className:"navlink-container",children:Object(O.jsx)(p.b,{className:"navlink",isActive:function(){return e.includes("/search")||"/"===e||"/hackernews"===e},exact:!0,to:"/search",children:"SEARCH"})}),Object(O.jsx)("div",{className:"navlink-container",children:Object(O.jsx)(p.b,{className:"navlink",exact:!0,to:"/history",children:"HISTORY"})})]})};var w=function(){return Object(O.jsx)("div",{className:"App",children:Object(O.jsxs)(p.a,{children:[Object(O.jsx)(g,{}),Object(O.jsx)(v.b,{path:"/search/:query",children:Object(O.jsx)(f,{})}),Object(O.jsx)(v.b,{exact:!0,path:"/search",children:Object(O.jsx)(f,{})}),Object(O.jsx)(v.b,{exact:!0,path:"/history",children:Object(O.jsx)(m,{})}),Object(O.jsx)(v.b,{exact:!0,path:"/",children:Object(O.jsx)(v.a,{to:"/search"})})]})})},k=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,67)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))};s.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(w,{})}),document.getElementById("root")),k()}},[[65,1,2]]]);
//# sourceMappingURL=main.54b26c2c.chunk.js.map